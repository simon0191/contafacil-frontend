
<div class="container" ng-controller="InitialBalanceCtrl">
  <nav class="registry-navbar">
    <div class="container">
      <div class="row registry-header">
        <div class="col-xs-6 pull-left">
          <h3 class="logo-contafacil">
          Conta<strong>fácil</strong>
          </h3>
        </div>
      </div>
    </div>
  </nav>
  <div class="container" style="margin-top: 20px;">
    <div class="row row-centered registry-step-header">
      <div class="col-xs-12 text-left col-centered">
        <h2 class="registry-title">
          Paso 2 de 2: Crea tus cuentas
        </h2>
      </div>
    </div>
    <!-- END registry-step-header -->
    <div class="row row-centered">
      <div class="col-xs-12 col-centered">
        <tabset id="accounts-registry-tab-content" class="tab-content">
          <button class="btn btn-default btn-info" ng-click="openAccountForm()"><i class="fa fa-plus"></i>
            Agregar cuenta
          </button>
          <tab heading="Todas">
            <table class="table" style="margin-top: 30px;">
              <thead>
                <tr>
                  <th class="col-xs-2">Código</th>
                  <th class="col-xs-7">Nombre</th>
                  <th class="col-xs-3">Saldo inicial</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="account in accounts" id="{{account.id}}">
                  <td>{{account.pucId}}</td>
                  <td>{{account.name}}</td>
                  <td>
                    <input ui-event="{ change : 'updateTotals()' }" type="number" ng-model="account.initialBalance">
                  </td>
                </tr>
              </tbody>
            </table>
            <h4 class="text-right" style="margin-right: 210px;">Balance <span style="font-size: 24px; margin-left: 5px;">{{totalAssets-totalLiabilites-totalEquity}}</span></h4>
            <button ng-click="submitInitialBalance()" class="registry-next-step-btn btn btn-default btn-success" style="font-weight: bold;">Siguiente Paso</button>
          </tab>
          <tab
          ng-repeat="accountType in ['ASSETS','LIABILITIES','EQUITY','EXPENSES','REVENUE']"
          heading="{{accountType}}">
            <table class="table">
              <thead>
                <tr>
                  <th class="col-xs-2">Código</th>
                  <th class="col-xs-7">Nombre</th>
                  <th class="col-xs-3">Saldo inicial</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="account in accounts | filter:{accountType:accountType}" id="{{account.id}}">
                  <td>{{account.pucId}}</td>
                  <td>{{account.name}}</td>
                  <td><input type="number" ng-model="account.initialBalance"></td>
                </tr>
              </tbody>
            </table>
            <button ng-click="submitInitialBalance()" class="registry-next-step-btn btn btn-default btn-success" style="font-weight: bold;">Siguiente Paso</button>
          </tab>
        </tabset>
      </div>
    </div>

  </div>

</div>