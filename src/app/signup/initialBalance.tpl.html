
<div class="container" ng-controller="InitialBalanceCtrl">
  <nav class="registry-navbar">
    <div class="container">
      <div class="row registry-header">
        <div class="col-xs-6 pull-left">
          <h3 class="logo-contafacil">
          Conta<strong>fácil</strong>
          </h3>
        </div>
      </div>
    </div>
  </nav>
  <div class="container" style="margin-top: 20px;">
    <div class="row row-centered registry-step-header">
      <div class="col-xs-12 text-left col-centered">
        <h2 class="registry-title">
          Paso 2 de 2: Crea tus cuentas
        </h2>
      </div>
    </div>
    <!-- END registry-step-header -->
    <div class="row row-centered">
      <div class="col-xs-12 col-centered">
        <tabset id="accounts-registry-tab-content" class="tab-content">
          <button class="btn btn-default btn-info" ng-click="openAccountForm()"><i class="fa fa-plus"></i>
            Agregar cuenta
          </button>
          <tab heading="Todas">
            <table class="table" style="margin-top: 30px;">
              <thead>
                <tr>
                  <th class="col-xs-1">Código</th>
                  <th class="col-xs-2">Tipo</th>
                  <th class="col-xs-6">Nombre</th>
                  <th class="col-xs-3">Saldo inicial</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="account in accounts" id="{{account.id}}">
                  <td>{{account.pucId}}</td>
                  <td>
                    <i ng-class="{
                      'fa fa-home': account.accountType == 'EQUITY',
                      'fa fa-minus': account.accountType == 'LIABILITIES',
                      'fa fa-plus': account.accountType == 'ASSETS'
                    }"></i>
                    {{toEs(account.accountType)}}
                  </td>
                  <td>{{account.name}}</td>
                  <td>
                    $ <input ui-event="{ change : 'updateTotals()' }" type="text" ng-model="account.initialBalance" money precision="2">
                  </td>
                </tr>
              </tbody>
            </table>
            <h4 class="text-right" style="margin-right: 210px;" ng-class="{'text-danger':totalAssets-totalLiabilites-totalEquity !== 0.0 && totalAssets-totalLiabilites-totalEquity !== 0 && totalAssets-totalLiabilites-totalEquity !== '0.0'}">Balance <span ng-class="{'text-danger':totalAssets-totalLiabilites-totalEquity !== 0.0 && totalAssets-totalLiabilites-totalEquity !== 0 && totalAssets-totalLiabilites-totalEquity !== '0.0'}" style="font-size: 24px; margin-left: 5px;">{{totalAssets-totalLiabilities-totalEquity | currency:'$ '}}</span></h4>
            <button ng-click="submitInitialBalance()" class="registry-next-step-btn btn btn-default btn-success" style="font-weight: bold;">Siguiente Paso</button>
          </tab>
          <tab
          ng-repeat="accountType in accountsTypes"
          heading="{{accountType.es}}">
            <table class="table">
              <thead>
                <tr>
                  <th class="col-xs-2">Código</th>
                  <th class="col-xs-7">Nombre</th>
                  <th class="col-xs-3">Saldo inicial</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="account in accounts | filter:{accountType:accountType.name}" id="{{account.id}}">
                  <td>{{account.pucId}}</td>
                  <td>{{account.name}}</td>
                  <td>$ <input ui-event="{ change : 'updateTotals()' }" type="text" ng-model="account.initialBalance" money precision="2"></td>
                </tr>
              </tbody>
            </table>
            <button ng-click="submitInitialBalance()" class="registry-next-step-btn btn btn-default btn-success" style="font-weight: bold;">Siguiente Paso</button>
          </tab>
        </tabset>
      </div>
    </div>

  </div>

</div>